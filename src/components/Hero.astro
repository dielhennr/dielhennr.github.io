---
import { siteConfig } from "../config";
---

<div
  id="hero"
  class="relative isolate overflow-hidden py-24 md:h-screen transition-colors duration-300"
  style={`--accent-color: ${siteConfig.accentColor}; background-color: ${siteConfig.accentColor}10`}
>

  <!-- Interactive Particles -->
  <div class="particles" id="particles"></div>

  <svg
    aria-hidden="true"
    class="absolute inset-0 -z-10 size-full stroke-gray-200 [mask-image:radial-gradient(100%_100%_at_top_right,white,transparent)]"
  >
    <defs>
      <pattern
        x="50%"
        y={-1}
        id="0787a7c5-978c-4f66-83c7-11c213f99cb7"
        width={200}
        height={200}
        patternUnits="userSpaceOnUse"
      >
        <path d="M.5 200V.5H200" fill="none"></path>
      </pattern>
      <pattern
        id="programming-symbols"
        x="0"
        y="0"
        width="400"
        height="400"
        patternUnits="userSpaceOnUse"
      >
        <text
          x="50"
          y="50"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="24"
          transform="rotate(-15)">&lt;/&gt;</text
        >
        <text
          x="150"
          y="100"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="20"
          transform="rotate(10)">{}</text
        >
        <text
          x="250"
          y="80"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="18"
          transform="rotate(-5)">=&gt;</text
        >
        <text
          x="100"
          y="200"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="22"
          transform="rotate(15)">[]</text
        >
        <text
          x="300"
          y="180"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="20"
          transform="rotate(-10)">&lt;&gt;</text
        >
        <text
          x="200"
          y="250"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="24"
          transform="rotate(5)">()</text
        >
        <text
          x="50"
          y="320"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="18"
          transform="rotate(-8)">::</text
        >
        <text
          x="350"
          y="300"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="22"
          transform="rotate(12)">==</text
        >
        <text
          x="150"
          y="350"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="20"
          transform="rotate(-15)">++</text
        >
        <text
          x="250"
          y="370"
          fill={siteConfig.accentColor}
          font-family="monospace"
          font-size="24"
          transform="rotate(8)">;</text
        >
      </pattern>
    </defs>
    <rect
      fill="url(#programming-symbols)"
      width="100%"
      height="100%"
      opacity="0.2"></rect>
    <rect
      fill="url(#0787a7c5-978c-4f66-83c7-11c213f99cb7)"
      width="100%"
      height="100%"
      stroke-width={0}></rect>
  </svg>
  
  <div class="h-full mx-auto p-8 sm:p-12 md:p-24 flex items-center">
    <div>
      <h1
        class="text-pretty text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-bold tracking-tight text-gray-800 dark:text-white animate-bounce-in"
      >
        <span style={{ color: siteConfig.accentColor }} class="typing-animation glow" id="typing-text"></span>
      </h1>
      <p
        class="mt-4 sm:mt-6 md:mt-8 text-pretty text-base sm:text-lg md:text-xl/8 font-medium text-gray-600 dark:text-gray-400 animate-fade-in-up animation-delay-400"
      >
        <span class="typing-animation-headline" id="typing-headline"></span>
      </p>
      {
        siteConfig.resume && (
          <div class="mt-6 sm:mt-8 md:mt-10 animate-fade-in-up animation-delay-500 flex gap-4">
            <a
              href={siteConfig.resume}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold text-gray-300 transition-all duration-300 rounded-lg border-2 border-gray-400 hover:border-gray-300 hover:bg-gray-800 transform hover:-translate-y-0.5 btn-animate"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
              </svg>
              View Resume
            </a>
            <a
              href={siteConfig.resume}
              download="Ryan_Dielhenn_Resume.pdf"
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center gap-2 px-6 py-3 text-sm font-semibold text-white transition-all duration-300 rounded-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 btn-animate"
              style={`background-color: ${siteConfig.accentColor}`}
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="7,10 12,15 17,10" />
                <line x1="12" y1="15" x2="12" y2="3" />
              </svg>
              Download Resume
            </a>
          </div>
        )
      }
    </div>
  </div>
  
  <div
    class="absolute bottom-0 left-0 right-0 p-8 sm:p-12 md:p-24 flex gap-x-4 sm:gap-x-6 md:gap-x-8 text-gray-700 dark:text-gray-300 animate-fade-in-up animation-delay-600"
  >
    {
      siteConfig.social?.email && (
        <a
          href={`mailto:${siteConfig.social.email}`}
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float"
          aria-label="Email"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
            <polyline points="22,6 12,13 2,6" />
          </svg>
        </a>
      )
    }
    {
      siteConfig.social?.linkedin && (
        <a
          href={siteConfig.social.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float animation-delay-100"
          aria-label="LinkedIn"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
            <rect x="2" y="9" width="4" height="12" />
            <circle cx="4" cy="4" r="2" />
          </svg>
        </a>
      )
    }
    {
      siteConfig.social?.github && (
        <a
          href={siteConfig.social.github}
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors duration-300 hover:text-[var(--accent-color)] animate-float animation-delay-200"
          aria-label="GitHub"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-1.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" />
          </svg>
        </a>
      )
    }
  </div>
</div>

<!-- Floating Action Button -->
<a href="#hero" class="fab" id="back-to-top" aria-label="Back to top">
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
  >
    <polyline points="18,15 12,9 6,15" />
  </svg>
</a>



<style>
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.8s ease-out forwards;
    opacity: 0;
  }

  .animation-delay-200 {
    animation-delay: 0.2s;
  }

  .animation-delay-400 {
    animation-delay: 0.4s;
  }

  .animation-delay-600 {
    animation-delay: 0.6s;
  }

  .animation-delay-500 {
    animation-delay: 0.5s;
  }

  /* Typing animation */
  .typing-animation {
    border-right: 3px solid;
    border-color: var(--accent-color);
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
    animation: blink-caret 0.75s step-end infinite;
  }

  /* Headline typing animation */
  .typing-animation-headline {
    border-right: 2px solid;
    border-color: #6b7280;
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    word-break: break-word;
  }

  /* Mobile-specific word breaking for the headline */
  @media (max-width: 768px) {
    .typing-animation-headline {
      word-break: break-all;
    }
  }

  /* Hide cursor when not typing */
  .typing-animation.no-cursor {
    border-right: none;
  }

  .typing-animation-headline.no-cursor {
    border-right: none;
  }

  @keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: var(--accent-color); }
  }

  @keyframes blink-caret-headline {
    from, to { border-color: transparent; }
    50% { border-color: #6b7280; }
  }

  /* Show cursor on headline when typing */
  .typing-animation-headline:not(.no-cursor) {
    animation: blink-caret-headline 0.75s step-end infinite;
  }
</style>

<script>
  function typeWriter(element: HTMLElement, text: string, speed: number = 100, onComplete: (() => void) | null = null) {
    let i = 0;
    element.innerHTML = '';
    
    function type() {
      if (i < text.length) {
        const char = text.charAt(i);
        if (char === '\n') {
          element.innerHTML += '<br>';
        } else {
          element.innerHTML += char;
        }
        i++;
        setTimeout(type, speed);
      } else {
        // Remove cursor when typing is complete
        element.classList.add('no-cursor');
        if (onComplete) onComplete();
      }
    }
    
    type();
  }






